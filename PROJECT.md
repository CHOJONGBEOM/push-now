# PushNow

경쟁사 푸시 알림 분석 웹 대시보드

## 서비스 개요

| 항목         | 내용                                                                                                                                                                   |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 서비스명     | PushNow                                                                                                                                                                |
| 목적         | 경쟁 앱 푸시 알림 수집/분석 → 마케팅 인사이트 제공                                                                                                                     |
| 타겟 사용자  | 이커머스 마케터, PM                                                                                                                                                    |
| 초기 타겟 앱 | 패션 (무신사, 29CM, EQL, 지그재그 등), 이커머스 (쿠팡, N+스토어, SSF SHOP 등), 여행 (마이리얼트립, 클룩, 여기어때 등), F&B (맥도날드, 버거킹, 롯데이트 등) → 확장 예정 |

---

## 기술 스택

| 패키지              | 버전      | 용도              | 상태 |
| ------------------- | --------- | ----------------- | ---- |
| react               | ^19.2.4   | UI 프레임워크     | ✅   |
| react-dom           | ^19.2.4   | DOM 렌더링        | ✅   |
| vite                | ^6.2.0    | 빌드 도구         | ✅   |
| typescript          | ~5.8.2    | 타입 시스템       | ✅   |
| recharts            | ^3.7.0    | 차트 라이브러리   | ✅   |
| lucide-react        | ^0.563.0  | 아이콘            | ✅   |
| tailwindcss         | (설정됨)  | 스타일링          | ✅   |
| @supabase/supabase-js | ^2.39.3 | Supabase 클라이언트 | ✅   |
| react-router-dom    | ^6.22.0   | 라우팅            | ✅   |

---

## 데이터 소스: PushRadar

PushRadar 앱(Android)에서 수집한 푸시 알림 데이터를 Supabase에서 읽어옴.

- **Supabase 프로젝트**: `push_msg_collector`
- **Project ID**: `mprfnwhfzuyivuxgelol`
- **리전**: ap-south-1
- **현재 데이터**: 113건+ (실시간 수집 중)

### Supabase 테이블: `push_messages`

```sql
CREATE TABLE push_messages (
  id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  package_name TEXT,                -- 패키지명 (com.musinsa.store)
  app_name TEXT,                    -- 앱 이름 (예: 무신사, 29CM)
  title TEXT,                       -- 알림 제목
  body TEXT,                        -- 알림 본문 (※ content 아님)
  posted_at TIMESTAMPTZ,            -- 알림 수신 시간
  collected_at TIMESTAMPTZ DEFAULT NOW(),  -- 수집 시간
  is_ad BOOLEAN DEFAULT FALSE,      -- 광고 여부
  category TEXT,                    -- 카테고리 (sale, new, restock, reminder, event, other)
  has_emoji BOOLEAN,                -- 이모지 포함 여부
  message_length INTEGER,           -- 메시지 길이
  raw_data TEXT,                    -- 원본 데이터 (JSON)
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  is_hidden BOOLEAN DEFAULT FALSE   -- 숨김 처리 여부
);
```

### TypeScript 타입 정의

```typescript
// src/types/index.ts
export interface PushMessage {
  id: number;
  package_name: string | null;
  app_name: string | null;
  title: string | null;
  body: string | null;              // ※ content 대신 body 사용
  posted_at: string | null;
  collected_at: string | null;
  is_ad: boolean | null;
  category: 'sale' | 'new' | 'restock' | 'reminder' | 'event' | 'other' | null;
  has_emoji: boolean | null;
  message_length: number | null;
  raw_data: string | null;
  created_at: string | null;
  updated_at: string | null;
  is_hidden: boolean | null;
}
```

### 카테고리 분류 기준

| 카테고리 | 키워드 예시                   |
| -------- | ----------------------------- |
| sale     | 할인, 세일, % OFF, 특가, 쿠폰 |
| new      | 신상, 새로운, 출시, 런칭, NEW |
| restock  | 재입고, 품절임박, 마지막      |
| reminder | 장바구니, 찜, 잊지마세요      |
| event    | 이벤트, 경품, 추첨, 선착순    |
| other    | 위 키워드 미포함              |

### 수집 중인 앱 목록 (현재 확인된 앱)

| 카테고리 | 앱 |
|----------|-----|
| 패션 | 무신사, 29CM, 지그재그, 에이블리, W컨셉 |
| 이커머스 | 컬리, N+스토어 |
| 여행 | 마이리얼트립, 야놀자(NOL) |

### Supabase 연결 정보

```typescript
// src/config/supabase.ts
import { createClient } from "@supabase/supabase-js";

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

export const supabase = createClient(supabaseUrl, supabaseKey);
```

`.env.local` 파일:

```
VITE_SUPABASE_URL=https://xxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJxxxx...
```

---

## 페이지 구성

| 페이지 | 경로 | 설명 | 상태 |
|--------|------|------|------|
| 랜딩 | `/` | 히어로 + 실시간 피드 애니메이션 | ✅ 완료 |
| 피드 | `/feed` | 실시간 푸시 타임라인 (필터, 무한스크롤) | ✅ 완료 |
| 타이밍 | `/timing` | 시간대별 히트맵, 추천 시간대, 앱 비교 | ✅ 완료 |
| 생성 | `/generate` | AI 메시지 추천 (4단계 Step wizard) | ✅ 완료 |
| 트렌드 | `/trends` | 마케팅 훅 + 심리 트리거 AI 분석 | ✅ 완료 |
| 대시보드 | `/dashboard` | 통합 요약 대시보드 | 🔶 스켈레톤 |
| 리뷰 | `/review` | 사례 리뷰 | 🔶 스켈레톤 |
| 연락처 | `/contact` | 문의하기 | 🔶 스켈레톤 |

---

## 현재 구현 상태

### 파일 구조

```
push_now/
├── src/
│   ├── App.tsx                      # 라우터 설정
│   ├── index.tsx                    # 엔트리포인트
│   ├── config/
│   │   └── supabase.ts              # Supabase 클라이언트
│   ├── types/
│   │   ├── database.ts              # DB 타입 (자동 생성)
│   │   ├── push-message.ts          # 푸시 메시지 타입 + 유틸
│   │   └── index.ts
│   ├── hooks/
│   │   └── usePushMessages.ts       # 피드 데이터 훅 (필터, 페이지네이션, 실시간)
│   ├── pages/
│   │   ├── Landing.tsx              # ✅ 랜딩 페이지
│   │   ├── Feed.tsx                 # ✅ 실시간 피드
│   │   ├── Timing.tsx               # 🔶 시간대 분석 (스켈레톤)
│   │   ├── Generate.tsx             # 🔶 AI 추천 (스켈레톤)
│   │   ├── Trends.tsx               # 🔶 키워드 트렌드 (스켈레톤)
│   │   ├── Dashboard.tsx            # 🔶 대시보드 (스켈레톤)
│   │   ├── Review.tsx
│   │   └── Contact.tsx
│   ├── components/
│   │   ├── Navbar.tsx               # 상단 네비게이션
│   │   ├── layout/
│   │   │   ├── Header.tsx
│   │   │   └── Sidebar.tsx
│   │   ├── feed/
│   │   │   ├── FeedCard.tsx         # 푸시 메시지 카드
│   │   │   ├── FeedHeader.tsx
│   │   │   ├── FilterBar.tsx        # 칩 기반 필터
│   │   │   └── MessageDetailModal.tsx
│   │   ├── landing/
│   │   │   └── PushFeedColumn.tsx   # 랜딩 애니메이션
│   │   ├── charts/
│   │   │   ├── Heatmap.tsx
│   │   │   ├── VolumeChart.tsx
│   │   │   └── TrajectoryChart.tsx
│   │   └── common/
│   │       └── Icons.tsx
│   └── utils/
│       ├── appIcons.ts              # 앱 아이콘 URL 매핑
│       └── appCategories.ts         # 앱 카테고리 관리
├── index.html
├── package.json
├── vite.config.ts
├── tsconfig.json
└── .env.local                       # Supabase 키
```

### 완료된 작업

- [x] 폴더 구조 재정리 (`src/` 구조)
- [x] react-router-dom 라우팅 (8개 라우트)
- [x] Supabase 연동 (실시간 구독 포함)
- [x] 랜딩 페이지 (히어로 + 실시간 피드 애니메이션)
- [x] 피드 페이지 (필터, 무한 스크롤, 실시간 업데이트)
- [x] FeedCard 컴포넌트 (앱 아이콘, 카테고리 뱃지, 호버 효과)
- [x] FilterBar 컴포넌트 (칩 기반 멀티 셀렉트)
- [x] 타입 정의 (push-message.ts, database.ts)
- [x] 한국어 UI 적용
- [x] 앱별 브랜드 컬러 적용

### 진행 중인 작업

- [x] Timing 페이지 - 시간대별 히트맵 + 추천 시간대 ✅
- [x] Generate 페이지 - AI 메시지 추천 UI ✅

---

## 2026-02-09 개발 로그: Trends 페이지 - AI 마케팅 훅 분석

### 완료된 작업

#### 1. 카테고리 시스템 재설계 (마이그레이션 완료)

기존 불명확한 카테고리에서 목적 기반 분류로 변경:

| 기존 | 신규 | 설명 |
|------|------|------|
| sale | promo | 프로모션/할인 |
| new | product | 상품 관련 |
| restock | retention | 리텐션/재방문 유도 |
| reminder | system | 시스템 알림 |
| event | transaction | 거래 관련 |
| other | empty, other | 빈 메시지, 기타 |

#### 2. OpenAI 기반 마케팅 훅 추출 시스템

**Edge Function**: `analyze-marketing-hook` (v4)

**프롬프트 설계 원칙**:
- `temperature: 0` (결정론적 출력으로 일관성 확보)
- `response_format: { type: "json_object" }` (JSON 강제)
- 8개 훅 유형 + 우선순위 규칙
- 7개 심리 트리거 분류
- Few-shot 예시 8개 포함
- Gemini, GPT, Perplexity 3개 AI 의견 종합

**훅 유형 (type)** - 우선순위 순서:

| 유형 | 이모지 | 설명 | 예시 |
|------|--------|------|------|
| price | 💰 | 구체적 숫자(할인율, 금액)가 있는 가격 혜택 | "50% 할인", "9,900원" |
| urgency | ⏰ | 시간/수량 제한으로 FOMO 유발 | "오늘 자정 마감", "선착순 100명" |
| personal | 💝 | 개인 행동 데이터 기반 메시지 | "찜한 상품", "장바구니 할인" |
| curiosity | 🎁 | 정보를 숨겨 클릭 유도 | "비밀 혜택", "선물이 도착" |
| newness | ✨ | 신상품, 첫 출시 강조 | "신상 입고", "NEW" |
| social_proof | 🔥 | 타인의 선택/인기 강조 | "판매 100만개", "품절 임박" |
| benefit | 🎀 | 숫자 없는 일반 혜택 | "무료배송", "사은품" |
| other | 📌 | 단순 정보성 알림 | "배송 시작", "업데이트 완료" |

**심리 트리거 (trigger)**:

| 트리거 | 이모지 | 설명 |
|--------|--------|------|
| greed | 🤑 | 이득/절약 욕구 |
| scarcity | ⚡ | 시간/수량 한정으로 인한 조급함 |
| personalization | 🎯 | 나만을 위한 맞춤 느낌 |
| curiosity | ❓ | 숨겨진 정보에 대한 궁금증 |
| social_proof | 👥 | 남들이 선택했으니 따라야 할 것 같음 |
| novelty | 🆕 | 새로운 것에 대한 호기심 |
| none | ➖ | 명확한 트리거 없음 |

**복합 혜택 처리 규칙**:
```
"80% 할인 + 30% 쿠폰" → "80%+30% 쿠폰" (결합 추출)
"30+30% 혜택" → 그대로 유지 (정보 손실 방지)
```

#### 3. DB 스키마 변경

```sql
-- 신규 컬럼 (마이그레이션 적용 완료)
ALTER TABLE push_messages ADD COLUMN marketing_hook TEXT;
ALTER TABLE push_messages ADD COLUMN hook_type TEXT;
ALTER TABLE push_messages ADD COLUMN hook_trigger TEXT;
ALTER TABLE push_messages ADD COLUMN hook_analyzed_at TIMESTAMPTZ;

-- 제약조건
CONSTRAINT valid_hook_type CHECK (hook_type IN ('price', 'urgency', 'personal', 'curiosity', 'newness', 'social_proof', 'benefit', 'other'))
CONSTRAINT valid_hook_trigger CHECK (hook_trigger IN ('scarcity', 'greed', 'personalization', 'curiosity', 'social_proof', 'novelty', 'none'))
```

#### 4. 프론트엔드 구현

**신규 파일**:
- `src/hooks/useMarketingHooks.ts` - 마케팅 훅 데이터 훅
  - `HOOK_TYPE_INFO` - 훅 유형별 메타데이터 (이름, 이모지, 색상, 설명)
  - `TRIGGER_INFO` - 트리거별 메타데이터
  - `useMarketingHooks()` - 분석 데이터 조회 및 집계

**Trends 페이지 (`/trends`) 구성**:
```
┌────────────────────────────────────────────────────┐
│  📊 마케팅 전략 분포        │  🧠 심리 트리거 분포     │
│  (What: 어떤 메시지를)       │  (Why: 왜 클릭하게)      │
│  [스택 바 + 범례]           │  [스택 바 + 범례]        │
├────────────────────────────────────────────────────┤
│  🏢 앱별 주력 전략           │  🔥 인기 마케팅 훅       │
│  무신사 [💰 가격/할인]       │  1. 80%+30% 쿠폰 🤑     │
│  컬리 [⏰ 긴급성]           │  2. 신상 입고 🆕        │
├────────────────────────────────────────────────────┤
│  💡 분석 인사이트                                   │
│  가장 많이 사용되는 전략 │ 주요 심리 트리거 │ 인기 훅 │
└────────────────────────────────────────────────────┘
```

#### 5. 분석 결과 (92건 메시지)

**훅 유형 분포**:
| 훅 유형 | 비율 | 건수 |
|---------|------|------|
| price | 57% | 52건 |
| urgency | 17% | 16건 |
| other | 13% | 12건 |
| newness | 7% | 6건 |
| personal | 5% | 5건 |
| social_proof | 1% | 1건 |

**트리거 분포**:
| 트리거 | 비율 |
|--------|------|
| greed | 74% |
| scarcity | 17% |
| none | 8% |
| novelty | 7% |
| personalization | 5% |

### 기술적 결정 사항

1. **프롬프트 일관성**: 3개 AI(Gemini, GPT, Perplexity) 의견 종합 후 최적화
2. **15자 제한**: 실제 데이터 분석 결과 최대 13자로 충분함 확인 (한국어 특성 반영)
3. **trigger 필드 추가**: 포트폴리오 차별화를 위해 심리적 분석 차원 추가
4. **복합 혜택 결합**: "80% + 30% 쿠폰" → "80%+30% 쿠폰"으로 정보 손실 방지

### 파일 변경 내역

```
src/
├── hooks/
│   └── useMarketingHooks.ts    # 신규 - 마케팅 훅 분석 훅
├── pages/
│   └── Trends.tsx              # 전면 재작성 - AI 분석 결과 시각화
└── utils/
    └── keywordExtractor.ts     # 불용어 목록 확장 (법적 문구, 앱명 등)
```

---

## 2026-02-10 개발 로그: Generate 페이지 + Timing 페이지 완성

### 완료된 작업

#### 1. Timing 페이지 (이미 구현 완료 확인)

`/timing` 경로에서 완전히 동작하는 시간대 분석 페이지:

**주요 기능**:
- 시간대별 히트맵 (요일 x 시간 매트릭스)
- 골든아워 추천 (경쟁사가 조용한 시간대)
- 요일별 발송량 차트
- 앱 비교 모드 (2개 앱 동시 비교)
- 기간 선택 (7일/14일/30일/90일)

**파일**:
- `src/pages/Timing.tsx` - 메인 페이지
- `src/components/timing/TimingHeatmap.tsx` - 히트맵 차트
- `src/components/timing/GoldenHoursCard.tsx` - 추천 시간대 카드
- `src/components/timing/DayOfWeekChart.tsx` - 요일별 차트
- `src/components/timing/AppFilter.tsx` - 앱 필터 + 비교 모드
- `src/hooks/useTimingData.ts` - 타이밍 데이터 훅

#### 2. Generate 페이지 - AI 메시지 추천 (v2)

5단계 스텝 위자드로 푸시 메시지 생성:

**Step 0: 앱 카테고리 선택** (신규)
| 카테고리 | 앱 예시 | 상태 |
|----------|---------|------|
| 패션/뷰티 | 무신사, 29CM, 지그재그 | ✅ active |
| 종합 이커머스 | 컬리, 오늘의집 | ✅ active |
| 여행/숙박 | 마이리얼트립, 야놀자 | ✅ active |
| F&B/배달 | 배달의민족, 맥도날드 | 🔶 collecting |
| 콘텐츠/엔터 | 네이버웹툰, 넷플릭스 | 🔶 collecting |
| 교육/자기계발 | 듀오링고, 클래스101 | 🔶 collecting |
| 금융/핀테크 | 토스, 카카오뱅크 | ⏳ planned |
| 헬스/의료 | 굿닥, 캐시워크 | 🔶 collecting |

**Step 1: 목적 선택** (카테고리별 동적 옵션)
- 패션: 프로모션, 신상품, 재입고, 재방문
- 여행: 특가, 가격변동, 예약리마인드, 여행지추천
- 콘텐츠: 새콘텐츠, 추천, 이어보기, 이벤트

**Step 2: 전략 선택**
- 기존 `HOOK_TYPE_INFO` 재활용 (price, urgency, personal 등)
- 선택 시 해당 카테고리 앱의 메시지만 필터링하여 표시

**Step 3: 톤 선택**
| 톤 | 예시 |
|----|------|
| 친근한 | ~해볼래요? |
| 긴박한 | 지금 바로! 마감 임박! |
| 재미있는 | 두근두근~ 열어보세요! |
| 프리미엄 | 특별히 선보이는 |

**Step 4: 상세 정보 (선택)**
- 상품/서비스명 입력
- 핵심 혜택/메시지 입력

**결과**: AI가 카테고리 특성에 맞는 3개의 메시지 생성

#### 3. Edge Function: `generate-push-message`

**기능**:
- 선택된 옵션 + 참고 메시지를 기반으로 GPT-4o-mini가 메시지 생성
- temperature: 0.7 (창의성과 일관성 균형)
- 3개의 메시지 변형 생성

**프롬프트 규칙**:
- title: 25자 이내 (이모지 1개 가능)
- body: 40자 이내
- hook: 15자 이내
- 숫자 포함 시 설득력 증가

### 파일 변경 내역

```
src/
├── pages/
│   └── Generate.tsx           # 전면 재작성 - 4단계 스텝 위자드
```

**배포된 Edge Function**:
- `generate-push-message` (v2) - 카테고리별 맞춤 프롬프트

---

## 2026-02-10 개발 로그: Trends 페이지 개선

### 완료된 작업

#### 1. "인기 마케팅 훅" 섹션 → "앱별 최근 메시지" 섹션으로 변경

**변경 이유**:
- "인기"라는 표현이 효과가 검증된 것처럼 보이지만 실제로는 빈도 데이터만 있음
- 사용자가 마케팅 전략 분포와 심리 트리거를 생각하면서 실제 메시지를 볼 수 있도록 개선

**새로운 기능**:
- 앱 선택 필터 (전체 + 상위 6개 앱 버튼)
- 메시지 카드에 앱 아이콘, 날짜, 제목/본문 표시
- 마케팅 전략 태그 (예: 💰 가격/할인)
- 심리 트리거 태그 (예: 🤑 이득 욕구)
- 추출된 마케팅 훅 텍스트 (이탤릭)
- 최대 15개 메시지, 스크롤 가능

#### 2. social_proof 번역 통일

**변경 전**:
- HOOK_TYPE_INFO: "사회적 증거" / "사회적 검증"
- TRIGGER_INFO: 불일치

**변경 후**:
- HOOK_TYPE_INFO: `name: '인기/베스트'`, `description: '베스트셀러, 리뷰 수, 랭킹 등 검증된 인기를 수치로 어필'`
- TRIGGER_INFO: `name: '인기 심리'`, `description: '많이 팔리고 리뷰 좋으면 나도 사야 할 것 같은 심리'`

#### 3. 인사이트 카드 수정

- "가장 인기있는 훅" → "가장 활발한 앱"으로 변경

### 파일 변경 내역

```
src/
├── pages/
│   └── Trends.tsx              # 앱별 최근 메시지 섹션으로 변경
├── hooks/
│   └── useMarketingHooks.ts    # social_proof 번역 수정
```

---

## 2026-02-10 개발 로그: Feed 페이지 - 캘린더 네비게이션 + 다중 날짜 선택

### 완료된 작업

#### 1. 한국 공휴일 API 연동

**신규 파일**: `src/hooks/useKoreanHolidays.ts`

**API 정보**:
- 공공데이터포털 한국천문연구원_특일 정보
- Endpoint: `https://apis.data.go.kr/B090041/openapi/service/SpcdeInfoService/getRestDeInfo`
- 연도별 공휴일 자동 조회
- API 실패 시 폴백 데이터 (고정 공휴일 + 2026년 음력 공휴일)

**이커머스 이벤트 상수**:
```typescript
const ECOMMERCE_EVENTS = {
  // 고정 이벤트 (MM-DD)
  '02-14': { name: '발렌타인', emoji: '💝' },
  '03-14': { name: '화이트데이', emoji: '🤍' },
  '11-11': { name: '광군제', emoji: '🛒' },

  // 변동 이벤트 (YYYY-MM-DD)
  '2026-11-27': { name: '블랙프라이데이', emoji: '🔥' },
  '2026-11-30': { name: '사이버먼데이', emoji: '💻' },
};
```

#### 2. 캘린더 다중 날짜 선택

**CalendarPicker 신규 기능**:
- 다중 날짜 토글 선택 (클릭으로 추가/제거)
- 월 전체 선택/해제 버튼
- 선택된 날짜 태그로 표시 (X 버튼으로 개별 제거)
- 공휴일 빨간색 표시 (🔴)
- 이커머스 이벤트 이모지 표시
- 간소화된 범례 (적음→많음 제거)

**Props 변경**:
```typescript
// Before
interface CalendarPickerProps {
  selectedDate: string | undefined;
  onDateSelect: (date: string | undefined) => void;
}

// After
interface CalendarPickerProps {
  selectedDates: string[] | undefined;
  onDatesSelect: (dates: string[] | undefined) => void;
}
```

#### 3. usePushMessages 훅 확장

- `selectedDates` 다중 날짜 필터 지원 (OR 조건)
- Supabase 쿼리:
```typescript
const dateConditions = filters.selectedDates.map(date => {
  const startOfDay = `${date}T00:00:00.000Z`;
  const endOfDay = `${date}T23:59:59.999Z`;
  return `and(posted_at.gte.${startOfDay},posted_at.lte.${endOfDay})`;
}).join(',');
query = query.or(dateConditions);
```

#### 4. FeedHeader/Feed.tsx 업데이트

- 다중 날짜 표시 ("3일 선택" 형식)
- 빈 상태 메시지 업데이트

### 파일 변경 내역

```
src/
├── components/feed/
│   ├── CalendarPicker.tsx     # 전면 재작성 - 다중 선택, 공휴일 연동
│   └── FeedHeader.tsx         # 수정 - 다중 날짜 표시
├── hooks/
│   ├── useKoreanHolidays.ts   # 신규 - 한국 공휴일 API 훅
│   └── usePushMessages.ts     # 수정 - 다중 날짜 필터 지원
├── pages/
│   └── Feed.tsx               # 수정 - 다중 날짜 인터페이스 연동
└── types/
    └── push-message.ts        # 수정 - selectedDates: string[] 추가
```

---

## 예정된 개선 사항

### Feed 페이지 개선

**컨셉**: 메시지 아카이브 + 날짜 비교 분석

| 기능 | 설명 | 상태 |
|------|------|------|
| 📅 캘린더 네비게이션 | 월간 캘린더에서 날짜별 발송량 히트맵 표시, 날짜 클릭 → 해당 일자 메시지 | ✅ 완료 |
| 🏷️ 이벤트 마킹 | 블프, 11.11, 연말세일 등 주요 이커머스 이벤트 날짜 표시 | ✅ 완료 |
| 🇰🇷 한국 공휴일 | 공공데이터포털 API로 공휴일 자동 표시 | ✅ 완료 |
| 📆 다중 날짜 선택 | 여러 날짜 토글 선택 + 월 전체 선택 기능 | ✅ 완료 |
| ⚖️ 날짜 비교 모드 | 두 날짜 선택해서 나란히 비교 (예: 블프 vs 평일) | 🔶 예정 |

**사용 시나리오**:
- "블프 당일에 경쟁사들은 뭘 보냈지?" → 날짜 선택 후 열람
- "이번주 vs 지난주 메시지 차이는?" → 비교 모드

### Timing 페이지 개선

**컨셉**: 기존 패턴 분석 + 이벤트/기간 비교

| 기능 | 설명 | 상태 |
|------|------|------|
| 📅 이벤트 타임라인 | 선택된 기간 내 공휴일/이커머스 이벤트 표시 | ✅ 완료 |
| 📊 기간 비교 모드 | 이번주 vs 지난주, 이번달 vs 지난달 비교 | ✅ 완료 |
| 💡 비교 인사이트 | 기간별 발송량 변화, 골든아워 차이 분석 | ✅ 완료 |

**신규 컴포넌트**: `src/components/timing/EventTimeline.tsx`
- 선택 기간 내 이커머스 이벤트 + 공휴일 표시
- `useKoreanHolidays` 훅 재활용

**useTimingData 훅 확장**:
```typescript
interface TimingDataOptions {
  days?: number;
  appNames?: string[];
  startDate?: Date;  // 신규 - 커스텀 시작일
  endDate?: Date;    // 신규 - 커스텀 종료일
}
```

---

## 핵심 기능 상세

### 1. 데이터 조회/검색

- 전체 메시지 목록 테이블
- 필터: 앱, 날짜 범위, 카테고리
- 키워드 검색
- CSV 내보내기

### 2. 분석 기능

- **시간 분석**: 시간대별(0~24시), 요일별 발송 패턴
- **키워드 분석**: 자주 등장 키워드, 주간/월간 트렌드
- **경쟁사 비교**: 앱별 발송량 순위, 주력 카테고리

### 3. 인사이트

- 최적 발송 시간 추천 (경쟁사가 조용한 시간대)
- 트렌드 요약 ("이번 주 '무료배송' 키워드 30% 증가")
- 경쟁사 공백 분석

### 4. 키워드 알림

- 키워드 등록/삭제
- 매칭 건수 표시
- 최근 매칭 푸시 미리보기

---

## 디자인 가이드

### 색상

- 배경: #fcfcfc (밝은 회색)
- 텍스트: slate-900 (진한 검정)
- 강조: black (#000000)
- 보더: border-border (연한 회색)

### 앱 브랜드 컬러

| 앱       | 컬러             |
| -------- | ---------------- |
| 무신사   | #000000 (검정)   |
| 지그재그 | #FF6B9D (핑크)   |
| 29CM     | #00C4B4 (민트)   |
| 에이블리 | #FF5722 (오렌지) |
| W컨셉    | #000000 (검정)   |

### 폰트

- 미니멀, uppercase 영문 라벨
- 한국어 본문은 기본 sans-serif

---

## 개발 명령어

```bash
# 개발 서버 시작
npm run dev

# 프로덕션 빌드
npm run build

# 빌드 미리보기
npm run preview
```

---

## 다음 단계 우선순위

1. **Supabase 연동** - 실제 데이터 연결
2. **라우터 추가** - 페이지 구조 잡기
3. **메시지 목록 페이지** - 핵심 기능
4. **한국어화** - 타겟 사용자 맞춤
5. **랜딩 페이지** - 서비스 소개

---

## 관련 프로젝트

### PushRadar (Android 앱)

- 위치: `c:\workspace\push-collector-app`
- 역할: 푸시 알림 수집 → Supabase 저장
- 기술: React Native 0.74.5
- 기능:
  - 알림 수집 (NotificationListenerService)
  - 실시간 Supabase 업로드
  - 앱별 필터링
  - 백그라운드 동작
